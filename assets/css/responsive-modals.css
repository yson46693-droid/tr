/**
 * Responsive Modals CSS
 * تصميم متجاوب للـ Modals على الأجهزة المحمولة
 * 
 * هذا الملف يحتوي على قواعد CSS تجعل الـ Modals تعمل بشكل أفضل على الأجهزة المحمولة
 * 
 * المميزات:
 * - تحسين عرض الـ Modals على الشاشات الصغيرة (حتى 768px)
 * - تحسين خاص للهواتف الصغيرة جداً (حتى 480px)
 * - إزالة المسافات الزائدة وتحسين التمرير
 * 
 * الاستخدام:
 * 
 * 1. في ملف HTML/PHP:
 *    <link rel="stylesheet" href="assets/css/responsive-modals.css">
 * 
 * 2. في ملف PHP مع استخدام path_helper:
 *    <link rel="stylesheet" href="<?php echo getRelativeUrl('assets/css/responsive-modals.css'); ?>">
 * 
 * 3. في قسم <head>:
 *    <link rel="stylesheet" href="<?php echo getRelativeUrl('assets/css/responsive-modals.css'); ?>">
 * 
 * ملاحظة: هذا الملف يعمل مع جميع الـ Modals التي تستخدم Bootstrap classes:
 * - .modal
 * - .modal-dialog
 * - .modal-content
 * - .modal-body
 * - .modal-header
 * - .modal-footer
 */

/* ===== Responsive Modals for Mobile ===== */
@media (max-width: 768px) {
    .modal {
        padding: 0 !important;
    }

    .modal-dialog {
        margin: 0.5rem auto !important;
        max-width: 95% !important;
        width: 95% !important;
        max-height: calc(100vh - 1rem) !important;
        height: auto !important;
        display: flex !important;
        flex-direction: column !important;
        align-items: stretch !important;
        flex: 0 1 auto !important; /* لا يتمدد - ينكمش - حجم تلقائي */
    }
    
    /* دعم خاص لـ modal-xl على الموبايل */
    .modal-dialog.modal-xl {
        max-width: calc(100% - 1rem) !important;
        width: calc(100% - 1rem) !important;
        margin: 0.5rem !important;
        max-height: calc(100vh - 1rem) !important;
        height: auto !important;
    }

    .modal-content {
        max-height: 90vh !important;
        border-radius: 12px !important;
        overflow: hidden !important;
        display: flex !important;
        flex-direction: column !important;
        flex: 0 1 auto !important; /* يأخذ فقط المساحة التي يحتاجها */
        min-height: 0 !important;
        align-items: stretch !important;
        justify-content: flex-start !important; /* محاذاة المحتوى من الأعلى */
    }
    
    /* تحسين modal-xl content */
    .modal-dialog.modal-xl .modal-content {
        max-height: calc(100vh - 1rem) !important;
        flex: 0 1 auto !important;
    }

    .modal-header {
        padding: 0.75rem 1rem !important;
        flex: 0 0 auto !important;
        flex-shrink: 0 !important;
    }

    .modal-body {
        flex: 0 1 auto !important; /* يأخذ فقط المساحة التي يحتاجها المحتوى */
        min-height: 0 !important;
        max-height: calc(90vh - 120px) !important; /* header + footer */
        overflow-y: auto !important;
        padding: 1rem !important;
        -webkit-overflow-scrolling: touch !important;
        align-self: stretch !important;
        width: 100% !important;
    }
    
    /* دعم خاص لـ modal-dialog-scrollable */
    .modal-dialog-scrollable .modal-body {
        overflow-y: auto !important;
        max-height: calc(90vh - 120px) !important;
        -webkit-overflow-scrolling: touch !important;
    }
    
    /* تحسين modal-xl body */
    .modal-dialog.modal-xl .modal-body {
        flex: 0 1 auto !important;
        min-height: 0 !important;
        max-height: calc(100vh - 200px) !important; /* header + footer + margins */
        overflow-y: auto !important;
        -webkit-overflow-scrolling: touch !important;
        align-self: stretch !important;
        width: 100% !important;
    }

    .modal-footer {
        padding: 0.75rem 1rem !important;
        flex: 0 0 auto !important;
        flex-shrink: 0 !important;
        border-top: 1px solid #dee2e6 !important;
    }
    
    /* تحسين modal-xl header و footer */
    .modal-dialog.modal-xl .modal-header,
    .modal-dialog.modal-xl .modal-footer {
        flex: 0 0 auto !important;
        flex-shrink: 0 !important;
    }
}

/* ===== Extra Small Phones ===== */
@media (max-width: 480px) {
    .modal-dialog {
        max-width: 100% !important;
        width: 100% !important;
        margin: 0 !important;
        max-height: 100vh !important;
        height: auto !important;
        display: flex !important;
        flex-direction: column !important;
        align-items: stretch !important;
        flex: 0 1 auto !important; /* لا يتمدد - ينكمش - حجم تلقائي */
    }
    
    /* دعم خاص لـ modal-xl على الهواتف الصغيرة */
    .modal-dialog.modal-xl {
        max-width: 100% !important;
        width: 100% !important;
        margin: 0 !important;
        max-height: 100vh !important;
        height: auto !important;
    }

    .modal-content {
        max-height: 100vh !important;
        border-radius: 0 !important;
        display: flex !important;
        flex-direction: column !important;
        flex: 0 1 auto !important; /* يأخذ فقط المساحة التي يحتاجها */
        min-height: 0 !important;
        align-items: stretch !important;
        justify-content: flex-start !important; /* محاذاة المحتوى من الأعلى */
    }
    
    /* تحسين modal-xl content على الهواتف الصغيرة */
    .modal-dialog.modal-xl .modal-content {
        max-height: 100vh !important;
        border-radius: 0 !important;
        flex: 0 1 auto !important;
    }

    .modal-header {
        padding: 0.75rem 1rem !important;
        flex: 0 0 auto !important;
        flex-shrink: 0 !important;
    }

    .modal-body {
        flex: 0 1 auto !important; /* يأخذ فقط المساحة التي يحتاجها المحتوى */
        min-height: 0 !important;
        max-height: calc(100vh - 110px) !important; /* header + footer */
        overflow-y: auto !important;
        padding: 0.75rem !important;
        -webkit-overflow-scrolling: touch !important;
        align-self: stretch !important;
        width: 100% !important;
    }
    
    /* دعم خاص لـ modal-dialog-scrollable على الهواتف الصغيرة */
    .modal-dialog-scrollable .modal-body {
        overflow-y: auto !important;
        max-height: calc(100vh - 110px) !important;
        -webkit-overflow-scrolling: touch !important;
    }
    
    /* تحسين modal-xl body على الهواتف الصغيرة */
    .modal-dialog.modal-xl .modal-body {
        flex: 0 1 auto !important;
        min-height: 0 !important;
        max-height: calc(100vh - 180px) !important; /* header + footer + margins */
        overflow-y: auto !important;
        -webkit-overflow-scrolling: touch !important;
        align-self: stretch !important;
        width: 100% !important;
    }

    .modal-footer {
        padding: 0.75rem 1rem !important;
        flex: 0 0 auto !important;
        flex-shrink: 0 !important;
        border-top: 1px solid #dee2e6 !important;
    }
    
    /* تحسين modal-xl header و footer */
    .modal-dialog.modal-xl .modal-header,
    .modal-dialog.modal-xl .modal-footer {
        flex: 0 0 auto !important;
        flex-shrink: 0 !important;
    }
}

/* ===== Tablet Support ===== */
@media (min-width: 769px) and (max-width: 1024px) {
    .modal-dialog.modal-xl {
        max-width: 90% !important;
        width: 90% !important;
    }
    
    .modal-dialog.modal-xl .modal-content {
        max-height: calc(100vh - 2rem) !important;
    }
    
    .modal-dialog.modal-xl .modal-body {
        max-height: calc(100vh - 250px) !important;
    }
}

